<!DOCTYPE html>
<html>
<head>
	<title>JavaScript-Session-1 Assignment2</title>
	<meta name="author" content="Satyam Bhadoria">
	<style>
		#navbar a{
			color: blue;
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div align="center">
	
		<!-- navigation bar -->
		<nav id="navbar">
			<table width="1000">
				<tbody align="center">
					<tr>
						<td width="100">
							<img src="HTML5.png" width="50"/>
						</td>
						<td align="right">
							<a onclick="location.href='index.html'">Home</a>
							<a>About</a>
							<a>Product</a>
							<a>Gallery</a>
							<a onclick="location.href='contact.html'">Contact</a>
						</td>
					</tr>
				</tbody>
			</table>
		</nav>
		<hr>
		<br>
		
		<div id="image-container">
			<table width="1000">
				<tbody align="center">
					<tr>
						<td>
							<img src="contact_us.jpg" width="1000"/>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<br>
		<br>
		<br>
		<br>
		
		<!-- form -->
		<div id="form-container">
			<form action="" method="get" onsubmit = "return validateSubmit()">
				<table>
					<tbody>
						<tr>
							<td>Name</td>
							<td><input type="text" onkeyup="validateName(this.value)" /><br><div id="name"></div></td>
						</tr>
						<tr>
							<td>Email</td>
							<td><input type="email" onkeyup="validateEmail(this.value)" /><br><div id="email"></div></td>
						</tr>
						<tr>
							<td>City</td>
							<td><select onclick="validateSelect(this.value)">
									<option selected disabled value="">Select city</option>
									<option>Jaipur</option>
									<option>Gwalior</option>
								</select><br><div id="city"></div>
							</td>
						</tr>
						<tr>
							<td>Organization <br>Name</td>
							<td><input type="text" onkeyup="validateOrganization(this.value)" /><br><div id="organization"></div></td>
						</tr>
						<tr>
							<td>Contact <br>Number</td>
							<td><input type="text" onkeyup="validateContact(this.value)" /><br><div id="contact"></div></td>
						</tr>
						<tr>
							<td>Message</td>
							<td>
								<textarea id="textarea" onkeyup="validateTextarea(this.value)" onchange="validateTextareaCopy(this.value)"></textarea>
							</td>
						</tr>
						<tr>
							<td><input type="submit" value="Submit" /></td>
						</tr>
					</tbody>	
				</table>
			</form>
		</div>
		<hr>
		
		<!-- footer -->
		<div id="footer">
			<table width="1000">
				<tbody align="center">
					<tr>
						<td>
							&copy; Copyright 2016-17 | All Rights Reserved | Metacube Training
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	<script>
		var name = false;
		var email = false;
		var organization = false;
		var contact = false;
		function validateSubmit(){
			return (name && email && orgnization && contact);
		}
		function validateName(value){
			var pattern = /^[a-zA-Z\s]{0,20}$/;
			if(pattern.test(value)){
				document.getElementById('name').innerHTML = "";
				name = true;
			}
			else{
				name = false;
				document.getElementById('name').innerHTML = "enter only characters and should not be more than 20 characters";
			}
		}
		
		function validateEmail(value){
			var pattern = /^([a-zA-Z\.-]+)(@)([a-zA-Z]+)([\.])([a-zA-Z\.]+)$/;
			if(pattern.test(value)){
				document.getElementById('email').innerHTML = "";
				email = true;
			}
			else{
				email = false;
				document.getElementById('email').innerHTML = "enter valid email id";
			}
		}
		
		function validateSelect(value){
			if(value.length > 0){
				document.getElementById('city').innerHTML = "you have selected this city : "+value;
			}
		}
		
		function validateOrganization(value){
			var pattern = /^[a-zA-Z\s]+$/;
			if(pattern.test(value)){
				document.getElementById('organization').innerHTML = "";
				organization = true;
			}
			else{
				organization = false;
				document.getElementById('organization').innerHTML = "enter only characters";
			}
		}
		
		function validateContact(value){
			var pattern = /^([1-9]{1})([0-9]{9})$/;
			if(pattern.test(value)){
				document.getElementById('contact').innerHTML = "";
				contact = true;
			}
			else{
				contact = false;
				document.getElementById('contact').innerHTML = "enter valid phone number";
			}
		}
		
		function validateTextarea(value){
			if(value.length > 250) {
				value = value.substring(0,250);
				document.getElementById('textarea').value = value;
				
			}
		}
	</script>
</body>
</html>